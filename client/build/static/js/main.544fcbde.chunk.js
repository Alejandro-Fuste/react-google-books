(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{101:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(19),l=a.n(o),c=(a(71),a(50)),i=a(51),u=a(63),s=a(52),m=a(64),d=a(21),f=a(6),E=a(12),h=a(65),v=a(37),p=a(20),g=Object(n.createContext)(),b=g.Provider,k=function(e,t){switch(t.type){case"ADD_SAVED":return Object(p.a)({},e,{saved:[t.save].concat(Object(v.a)(e.saved))});case"GET_SAVED":return Object(p.a)({},e,{saved:t.getSaved});case"DELETE_SAVED":return Object(p.a)({},e,{saved:e.saved.filter(function(e){return e._id!==t._id})});case"VIEW_BOOK":return Object(p.a)({},e,{favorites:[t.post].concat(Object(v.a)(e.favorites)),loading:!1});case"VIEW_RESULTS":return Object(p.a)({},e,{results:t.result});default:return e}},y=function(e){e.value;var t=Object(h.a)(e,["value"]),a=Object(n.useReducer)(k,{initialSearchTerm:"Harry Potter",results:[],saved:[]}),o=Object(E.a)(a,2),l=o[0],c=o[1];return r.a.createElement(b,Object.assign({value:[l,c]},t))},w=a(23),j=a.n(w),O=function(e){return j.a.get("/api/book/?query=".concat(e))},S=function(e){return j.a.post("/api/books",e)},x=function(){return j.a.get("/api/books")},N=function(e){return j.a.delete("/api/books/"+e)},I=a(104),B=a(105),C=a(54),L=a(26),T=a.n(L),_=a(103),D={margin:"10px",backgroundColor:"#969797",color:"white",float:"right",borderColor:"#969797"},R={border:"1px solid #ddd",borderRadius:"4px",minHeight:"45vh",margin:"20px"},A={margin:"10px 0 5px 15px"},V={width:"10vw",height:"30vh",borderRadius:"3px",margin:"15px"},F={margin:"15px 0 0 10px"},W=R,G=D,H=A,P=V,J=F,U=function(e){var t=e.result,a=e.deleteBook;return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",null,r.a.createElement("li",{style:W},r.a.createElement(_.a,{style:G,href:t.previewLink},"View"),r.a.createElement(_.a,{style:G,onClick:a},"Delete"),r.a.createElement("h5",{style:H},"Title: ",t.title),r.a.createElement("h6",{style:H},"Author: ",t.authors),r.a.createElement("img",{className:"pic",src:t.image?t.image:T.a,alt:"Book Thumbnail",style:P}),r.a.createElement("p",{style:J},t.description))))},q=function(){var e=Object(n.useContext)(g),t=Object(E.a)(e,2),a=t[0],o=t[1];Object(n.useEffect)(function(){x().then(function(e){o({type:"GET_SAVED",getSaved:e.data})}).catch(function(e){return console.log(e)})},[]);return r.a.createElement(I.a,{fluid:!0},r.a.createElement(B.a,null,r.a.createElement(C.a,{className:"resultsCol"},r.a.createElement("div",null,r.a.createElement("h3",null,"Saved Books")),r.a.createElement("ul",{className:"singleResult"},r.a.createElement(r.a.Fragment,null,a.saved?a.saved.map(function(e){return r.a.createElement(U,{key:e._id,result:e,deleteBook:function(){return t=e._id,void N(t).then(function(){o({type:"DELETE_SAVED",_id:t})}).catch(function(e){return console.log(e)});var t}})}):r.a.createElement("h3",null,"No Results"))))))},z=(a(89),a(108)),K=a(106),$=a(56),M=a(55),Q=a(57),X=function(e){var t=e.search,a=e.handleInputChange,n=e.handleFormSubmit;return r.a.createElement(I.a,{fluid:!0},r.a.createElement(B.a,null,r.a.createElement(C.a,{className:"searchCol"},r.a.createElement(z.a,{onSubmit:n},r.a.createElement(K.a,{className:"mb-3"},r.a.createElement($.a,{placeholder:"Enter Book Title","aria-label":"BookTitle","aria-describedby":"basic-addon2",type:"text",value:t,onChange:a}),r.a.createElement(K.a.Append,null,r.a.createElement(_.a,{variant:"outline-secondary",className:"inputBtn",style:{backgroundColor:"#969797",color:"white"},type:"submit"},r.a.createElement(M.a,{icon:Q.a,style:{marginRight:5,color:"white"}}),"Search")))))))},Y=R,Z=D,ee=A,te=V,ae=F,ne=function(e){var t=e.result,a=e.saveBook;return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",null,r.a.createElement("li",{style:Y},r.a.createElement(_.a,{style:Z,href:t.previewLink},"View"),r.a.createElement(_.a,{style:Z,onClick:a},"Save"),r.a.createElement("h5",{style:ee},"Title: ",t.title),r.a.createElement("h6",{style:ee},"Author: ",t.authors),r.a.createElement("img",{className:"pic",src:t.image?t.image:T.a,alt:"Book Thumbnail",style:te}),r.a.createElement("p",{style:ae},t.description))))},re=function(e,t){var a=Object(n.useState)(e),r=Object(E.a)(a,2),o=r[0],l=r[1];return Object(n.useEffect)(function(){var a=setTimeout(function(){l(e)},t);return function(){clearTimeout(a)}},[e,t]),o},oe=function(){var e=Object(n.useState)("Harry Potter"),t=Object(E.a)(e,2),a=t[0],o=t[1],l=Object(n.useState)([]),c=Object(E.a)(l,2),i=c[0],u=c[1],s=re(a,500);Object(n.useEffect)(function(){a&&s&&O(a).then(function(e){var t=e.data.items.map(function(e){return{bookId:e.id,authors:e.volumeInfo.authors||["No author to display"],title:e.volumeInfo.title,description:e.volumeInfo.description||"No description to display",image:e.volumeInfo.imageLinks&&e.volumeInfo.imageLinks.thumbnail?e.volumeInfo.imageLinks.thumbnail:"",previewLink:e.volumeInfo.previewLink}});u(t)}).catch(function(e){return console.log(e)})},[s]);return r.a.createElement(I.a,{fluid:!0},r.a.createElement(B.a,null,r.a.createElement(C.a,null,r.a.createElement(X,{results:a,handleInputChange:function(e){o(e.target.value)},handleFormSubmit:function(e){e.preventDefault()}}))),r.a.createElement(B.a,null,r.a.createElement(C.a,{className:"resultsCol"},r.a.createElement("div",null,r.a.createElement("h3",null,"Search Results")),r.a.createElement("ul",{className:"singleResult"},r.a.createElement(r.a.Fragment,null,i?i.map(function(e){return r.a.createElement(ne,{key:e.bookId,result:e,saveBook:function(){return function(e){var t=i.find(function(t){return t.bookId===e});S(t).then(function(){}).catch(function(e){return console.log(e)})}(e.bookId)}})}):r.a.createElement("h3",null,"No Results"))))))},le=a(109),ce=a(110),ie=(a(95),function(){return r.a.createElement(I.a,{style:{padding:0},fluid:!0},r.a.createElement(le.a,{bg:"dark",variant:"dark"},r.a.createElement(le.a.Brand,{className:"navlogo",style:{fontSize:30},to:"/"},"Google Books"),r.a.createElement(ce.a,{className:"mr-auto"},r.a.createElement(d.b,{className:"navLinks",to:"/search"},"Search"),r.a.createElement(d.b,{className:"navLinks",to:"/saved"},"Saved"))))}),ue=a(107),se=(a(98),function(){return r.a.createElement(ue.a,{className:"jumboBg",fluid:!0},r.a.createElement(I.a,null))}),me=(a(99),function(e){function t(){return Object(c.a)(this,t),Object(u.a)(this,Object(s.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return r.a.createElement(d.a,null,r.a.createElement("div",null,r.a.createElement(y,null,r.a.createElement(ie,null),r.a.createElement(se,null),r.a.createElement(f.a,{exact:!0,path:"/",component:oe}),r.a.createElement(f.a,{exact:!0,path:"/search",component:oe}),r.a.createElement(f.a,{exact:!0,path:"/saved",component:q}))))}}]),t}(n.Component)),de=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function fe(e){navigator.serviceWorker.register(e).then(function(e){e.onupdatefound=function(){var t=e.installing;t.onstatechange=function(){"installed"===t.state&&(navigator.serviceWorker.controller?console.log("New content is available; please refresh."):console.log("Content is cached for offline use."))}}}).catch(function(e){console.error("Error during service worker registration:",e)})}a(100);l.a.render(r.a.createElement(me,null),document.getElementById("root")),function(){if("serviceWorker"in navigator){if(new URL("",window.location).origin!==window.location.origin)return;window.addEventListener("load",function(){var e="".concat("","/service-worker.js");de?function(e){fetch(e).then(function(t){404===t.status||-1===t.headers.get("content-type").indexOf("javascript")?navigator.serviceWorker.ready.then(function(e){e.unregister().then(function(){window.location.reload()})}):fe(e)}).catch(function(){console.log("No internet connection found. App is running in offline mode.")})}(e):fe(e)})}}()},26:function(e,t,a){e.exports=a.p+"static/media/noImageVector.23dc581a.jpg"},66:function(e,t,a){e.exports=a(101)},71:function(e,t,a){},89:function(e,t,a){},95:function(e,t,a){},98:function(e,t,a){},99:function(e,t,a){}},[[66,1,2]]]);
//# sourceMappingURL=main.544fcbde.chunk.js.map